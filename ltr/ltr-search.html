<!doctype html>
<html lang="en">
<head>
    <title>Elasticsearch Learning to Rank Demo</title>
    <meta charset="utf8"/>
</head>
<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.10/handlebars.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/2.3.0/mustache.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css"
      integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
<link rel="stylesheet" href="css/flatly.css">
<a href="https://github.com/o19s/elasticsearch-ltr-demo"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>

<div class="container">
  <ul class="nav nav-pills">
    <li class="nav-item">
      <a class="nav-link" href="index.html">Welcome!</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="base-search.html">Lonely Search ðŸ˜•</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="judgment-lists.html">Define Good/Bad Results</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="feature-selection.html">Select Features</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="training-process.html">Train!</a>
    </li>
    <li class="nav-item">
      <a class="nav-link active " href="ltr-search.html">Happy LTR Search! ðŸ˜€</a>
    </li>
  </ul>
  <div class="jumbotron">
    <p class="lead text-muted">Using machine learning to optimize search relevance. Built by <a href="http://o19s.com/">OpenSource Connections</a>. </p>
    <p class="lead">Try searches like 'basketball with cartoon aliens' or 'jabba the hutt'</p>
 

    <form onsubmit='resultsForAfter(); return false' class='form-inline' style="padding-bottom: 10px;">
        <div class="form-row align-items-center">

            <div  class="form-group row">
                <div class="col-auto">
                    <input type="search" name="search" class="form-control" style="width: 300px;"  id="inputSearch" value="stuck on mars">
                </div>
                <div class="col-auto">
                  <button type="submit" name="search" class="btn btn-primary">Search</button>
                </div>
            </div>
        </div>

  								  <label style="padding-left: 40px;" class="custom-control custom-radio">
                        <input id="test_9" name="radio" type="radio" class="custom-control-input"
                               onclick='resultsForAfter(document.getElementById("inputSearch").value);'>
                        <span class="custom-control-indicator"></span>
                        <span class="custom-control-description">Optimal Boosts</span>
                    </label>
                    <label class="custom-control custom-radio">
                        <input id="test_6" name="radio" type="radio" class="custom-control-input"
                               onclick='resultsForAfter(document.getElementById("inputSearch").value);'
                               checked="true">
                        <span class="custom-control-indicator"></span>
                        <span class="custom-control-description">LambdaMART</span>
                    </label>
                    <label class="custom-control custom-radio">
                        <input id="test_8" name="radio" type="radio" class="custom-control-input"
                               onclick='resultsForAfter(document.getElementById("inputSearch").value);'>
                        <span class="custom-control-indicator"></span>
                        <span class="custom-control-description">Random Forests</span>
                    </label>
    </form>


    <div class="row" style="border: 1px solid">
        <div class="col-md-2"></div>
        <div class="col-md-8">
            <div id="after"></div>
        </div>
        <div class="col-md-2"></div>
    </div>
  </div>
    

</div>
<script id="template" type="x-tmpl-mustache">
    <h4 class="text-right">
        <span class="badge badge-primary">
        score {{doc._score}}
        </span>
    </h4>

    <div class="row">
        <div title="{{doc._source.overview}}" class="col-md-9">
            <h2>{{ doc._source.title }}</h2>
            <h4>popularity <span class="badge badge-primary">{{doc._source.popularity}}</span></h4>
            <h4>release date <span class="badge badge-primary">{{doc._source.release_date}}</span></h4>
            <p>{{doc.highlight.overview}}</p>
        </div>
        <div class="col-md-3 text-right">
            <img src="http://image.tmdb.org/t/p/w130/{{doc._source.poster_path}}" />
        </div>
    </div>
</script>
<script src="search.js" crossorigin="anonymous"></script>
<script> resultsForAfter(); </script>
</body>

</html>
